# FileShuffler
Программа предназначена для перемешивания файлов в файловой системе и их фильтрации по расширениям с целью конечного использования этих файлов в музыкальном проигрывателе.

_______

**Файл *Settings.txt***

Вариативность работы программы обеспечивается настроечным файлом *Settings.txt*, рассчитанным на следующие строки:

- путь до исходной папки с файлами;
- путь до конечной папки для файлов;
- сколько раз перемешивать файлы;
- оставлять или исключать файлы по их расширениям;
- перечисление оставляемых/исключаемых (в зависимости от опции, указанной в предыдущей строке) расширений файлов.

Первые три строки являются обязательными, четвёртая и пятая - нет, но они идут вместе. То есть, в настроечном файле должно быть либо 3 строки, либо 5 строк.

Более подробно правила задания содержимого этого файла описаны в текстовом документе *Readme.txt*, вложенном в архив *FileShuffler.zip* проекта.

_______

**Принцип работы**

Программа достаёт все файлы из указанной папки в виде списка, перемешивает его, а затем проходится по нему и по порядку назначает (или переназначает) файлам номера от *1* до *N*, где *N* - число файлов в исходной папке. Номер добавляется в начало оригинального названия файла и разделяется с ним через пробел.

Каждый номер дополняется слева ведущими нулями до длины числа *N*. Например, если в папке *1250* файлов, то *17*-й файл будет иметь номер *0017*.

Если исходная и конечная папки совпадают, то файлы просто переименовываются. В противном случае они переносятся из исходной папки в конечную. Рекомендуется использовать именно первый вариант, так как в таком случае программа отрабатывает очень быстро даже на достаточно большом списке файлов.

Если задана опция оставления файлов по расширениям, то будут удалены все файлы, расширения которых не входят в указанный список расширений. Если задана опция исключения файлов по расширениям, то будут удалены все файлы, расширения которых входят в указанный список расширений.

_______

**Особенности работы**

1) Программа не осуществляет проход по папкам, лежащим внутри исходной, а считает их за файлы (без расширения). Соответственно, если не указаны опции оставления или удаления файлов по расширениям, то папки просто получат номер, как обычные файлы. Если указаны, тогда папка будет удалена.
2) Если оригинальное имя файла имеет вид "*NNN some_filename_with_extension*", где *NNN* - какое-то целое число, программа посчитает его за служебный номер и заменит на другой (или тот же) случайный номер.
3) Файлам, названия которых состоят только из цифр, пробелов или их комбинации, программа назначит случайный номер и имя по умолчанию - "*default*".

_______

**Запуск**

Для того, чтобы запустить программу, нужно:

- иметь на компьютере Java версии 21 и выше;
- скачать архив *FileShuffler.zip*, приложенный к проекту;
- распаковать его, зайти в полученную папку *FileShuffler*;
- задать нужные настройки в файле *Settings.txt*;
- находясь в папке *FileShuffler*, выполнить в консоли следующую команду:

```
java -jar file_shuffler.jar
```

Такой вариант сработает в любой ОС, где установлена Java требуемой версии. Если компьютер находится под управлением Windows, тогда для запуска приложения можно использовать exe-файл *jar_launcher.exe*, также входящий в архив.

В консоли можно увидеть ход работы программы: какие файлы были переименованы в соответствии с выданными им номерами, какие файлы были исключены. В случае, если при запуске возникли какие-либо ошибки, они также отображаются в консоли.

_______

**Применение**

Эта программа была написана для реального, хоть и собственного применения. В автомобиле имеется встроенный проигрыватель музыки с флешки. Он читает её содержимое по порядку, не имея функции перемешивания или рандомного чтения. Соответственно, при каждой ситуации, инициирующей повторное чтение флешки сначала, вся музыка проигрывается заново в одном и том же порядке. Если это происходит часто, то получается, что определённая часть файлов, до которой проигрыватель не успевает дойти, остаётся не у дел.

Основное назначение этой программы как раз и состоит в том, чтобы менять порядок следования файлов. Если применять её перед каждым "обнулением" чтения флешки, то велика будет вероятность из раза в раз слышать разные композиции, которые не попадались в предыдущие разы, даже если очередное количество проигрываемых файлов будет небольшим. Также она удобна при добавлении новой музыки: можно скачать и добавить в плейлист множество композиций, но всего за один запуск программы они будут пронумерованы и перемешаны с остальными.

А идея фильтрации файлов по расширениям возникла из того, что музыка зачастую скачивается с дополнительными ненужными файлами, например, с картинками. Для того, чтобы они не участвовали в нумерации и вообще не входили в окончательный список, и используются функции оставления/исключения файлов по их расширениям. Например, можно оставлять только файлы формата *.mp3*, а остальные - удалять.
